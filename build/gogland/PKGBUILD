pkgname=gogland
pkgver=163.10615.6
pkgrel=1
pkgdesc="Capable and Ergonomic Go IDE"
arch=("i686" "x86_64")
backup=("opt/gogland/bin/idea.properties")
options=(!strip)
url="https://www.jetbrains.com/go/"
license=(custom)
depends=("java-environment>=8" "java-runtime-common")
source=(
	"http://download.jetbrains.com/go/gogland-$pkgver.tar.gz"
	"jetbrains-gogland.desktop"
)
sha512sums=(
	"1cbd081d4079428f6eb13ca9db27524afb09a5b3f772b7cf54c2aa0fe33d569fddae3035bda659094648d81904cc68fe4d60167e27c51b2376a243f7990bdfbe"
	"6fefd70637118f476c84a788679cf839eff4cc133889d90adadfcce11b5ce37e6baca6355c7758f9cafaafae09ccc02d48a4ced79200cd40718664e1b63aa401"
)

package() {
	install --directory --mode=755 $pkgdir/opt/gogland
	install --directory --mode=755 $pkgdir/usr/bin
	install --directory --mode=755 $pkgdir/usr/share/applications/
	install --directory --mode=755 $pkgdir/usr/share/pixmaps/

	cp --force --recursive $srcdir/Gogland-$pkgver/* $pkgdir/opt/gogland

	rm --force --recursive $pkgdir/opt/gogland/jre

	ln --symbolic /opt/gogland/bin/gogland.sh $pkgdir/usr/bin/gogland

	install -D --mode=644 $srcdir/jetbrains-gogland.desktop $pkgdir/usr/share/applications/
	install -D --mode=644 $pkgdir/opt/gogland/bin/gogland.png $pkgdir/usr/share/pixmaps/gogland.png
}
